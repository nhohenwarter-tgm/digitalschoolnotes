%\section*{Technologien}
\cfoot{Selina Brinnich}

Abgesehen von einigen Frameworks, wird bei der Umsetzung der Applikation zudem eine wichtige Technologie benötigt, nämlich eine Datenbank. Es existieren eine vielzahl von unterschiedlichen Datenbanken. Eine richtige Auswahl zu treffen ist besonders wichtig, da die Applikation die benötigten Daten möglichst schnell zurückliefern soll und auf keinen Fall Daten verloren gehen sollen. \\
Bei der Persistierung von Daten wird dabei zwischen zwei Konzepten von Datenbanken unterschieden: relationale Datenbanken und NoSQL Datenbanken. Um einen Vergleich aufstellen zu können, wurden jeweils zwei Datenbanken für jedes der beiden Konzepte ausgewählt und genauer betrachtet. Die Auswahl betrifft dabei folgende vier Datenbanken:\\
\begin{itemize}
\item Relationale Datenbanken
\begin{itemize}
\item MySQL
\item PostgreSQL
\end{itemize}
\item NoSQL Datenbanken
\begin{itemize}
\item MongoDB
\item Couchbase
\end{itemize}
\end{itemize}

Im Folgenden wird genauer auf jede der aufgezählten Datenbanken eingegangen, um einen Vergleich aufstellen zu können. Dabei wird der Aufwand der Installation und Konfiguration, sowie die Einfachheit der grundlegenden Operationen Erstellen, Lesen, Bearbeiten und Löschen genauer betrachtet.

\subsubsection{MySQL}
MySQL ist eine Open-Source Datenbank von Oracle. Sie verspricht vor allem Einfachheit in der Anwendung.\cite{ABOUTMYSQL}

Die Installation von MySQL ist sehr einfach und schnell erledigt. Die Datenbank kann mithilfe folgender Befehle installiert werden:
\begin{lstlisting}[caption=Installation von MySQL \cite{MYSQLINSTALL}]
sudo apt-get install mysql-server mysql-client
sudo mysqladmin -u root -h localhost password 'mypassword'
sudo apt-get install php5-mysql
\end{lstlisting}

\newpage

Bei der Konfiguration von MySQL muss zunächst ein neuer Benutzer erstellt und anschließend die entsprechenden Rechte gesetzt werden:
\begin{lstlisting}[caption=Konfiguration von MySQL \cite{ADDUSERMYSQL}]
mysql -u root -p
CREATE USER 'eval'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON eval.* TO 'eval'@'localhost';
CREATE DATABASE eval;
FLUSH PRIVILEGES;
mysql -u eval -p
\end{lstlisting}

Nach der Installation und Konfiguration können weitere Operationen ausgeführt werden.\\
Ein neuer Datensatz kann folgendermaßen in die Datenbank eingefügt werden:\\
\textit{INSERT INTO test VALUES ("Xandra Mcknight");}\\
Um die vorhandenen Datensätze wieder auszulesen, wird folgende Zeile benötigt:\\
\textit{SELECT * FROM test;}\\
Ein bestehender Datensatz kann mit folgender Zeile verändert werden:\\
\textit{UPDATE test SET name='Peter Test' WHERE name='Xandra Mcknight';}\\
Um einen vorhandenen Datensatz zu löschen kann folgender Befehl ausgeführt werden:\\
\textit{DELETE FROM test WHERE name='Xandra Mcknight';}

\subsubsection{PostgreSQL}
PostgreSQL ist eine Open-Source Datenbank. Sie verspricht vor allem eine hohe Zuverlässigkeit und Datenintegrität.\cite{ABOUTPOSTGRES}

Die Installation von PostgreSQL ist sehr einfach. Sie verläuft sehr schnell und es muss nur ein einziger Befehl ausgeführt werden. Die Datenbank kann mithilfe folgendem Befehl installiert werden:
\begin{lstlisting}[caption=Installation von PostgreSQL \cite{POSTGRES}]
apt-get install postgresql postgresql-client
\end{lstlisting}

\newpage

Bei der Konfiguration von PostgreSQL muss ein neuer Benutzer erstellt und anschließend die entsprechenden Rechte gesetzt werden:
\begin{lstlisting}[caption=Konfiguration von PostgreSQL \cite{POSTGRES}]
su postgres
psql
CREATE USER mypguser WITH PASSWORD 'mypguserpass';
CREATE DATABASE mypgdatabase OWNER mypguser;
\q
vim /etc/postgresql/X.Y/main/pg_hba.conf
Change: local	all	all	peer
To: local	all	all	md5
/etc/init.d/postgresql reload
psql -d mypgdatabase -U mypguser
\end{lstlisting}

Nach der Installation und Konfiguration können weitere Operationen ausgeführt werden.\\
Ein neuer Datensatz kann folgendermaßen in die Datenbank eingefügt werden:\\
\textit{INSERT INTO test VALUES ("Xandra Mcknight");}\\
Um die vorhandenen Datensätze wieder auszulesen, wird folgende Zeile benötigt:\\
\textit{SELECT * FROM test;}\\
Ein bestehender Datensatz kann mit folgender Zeile verändert werden:\\
\textit{UPDATE test SET name='Peter Test' WHERE name='Xandra Mcknight';}\\
Um einen vorhandenen Datensatz zu löschen kann folgender Befehl ausgeführt werden:\\
\textit{DELETE FROM test WHERE name='Xandra Mcknight';}

\subsubsection{MongoDB}
MongoDB ist eine Open-Source NoSQL Datenbank. Sie verspricht vor allem eine hohe Flexibilität, Skalierbarkeit und Performance. \cite{ABOUTMONGODB}

Die Installation von MongoDB verläuft folgendermaßen:
\begin{lstlisting}[caption=Installation von MongoDB \cite{MONGODBINSTALL}]
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10
echo "deb http://repo.mongodb.org/apt/debian wheezy/mongodb-org/3.0 main" | sudo tee /etc/apt/sources.list.d/mongodb-org-3.0.list
sudo apt-get update
sudo apt-get install -y mongodb-org
sudo service mongod start
\end{lstlisting}
Eine weitere Konfiguration ist nicht notwendig.

Nach der Installation können weitere Operationen ausgeführt werden.\\
Ein neuer Datensatz kann folgendermaßen in die Datenbank eingefügt werden:\\
\textit{db.test.insert(\{"name": "Test", \"email": "test@email.com"\})}\\
Um die vorhandenen Datensätze wieder auszulesen, wird folgende Zeile benötigt:\\
\textit{db.test.find(\{"name": "Test"\})}\\
Ein bestehender Datensatz kann mit folgender Zeile verändert werden:\\
\textit{db.test.update(\{"name": "Test"\},\{\$set:\{"name": "Test2"\}\})}\\
Um einen vorhandenen Datensatz zu löschen kann folgender Befehl ausgeführt werden:\\
\textit{db.test.remove(\{"name": "Test"\})}

\subsubsection{Couchbase}
Couchbase ist eine Open-Source NoSQL Datenbank. Sie verspricht vor allem eine hohe Skalierbarkeit.\cite{ABOUTCOUCHBASE}

Die Installation von Couchbase verläuft über ein externes .deb Packet. Zur Installation werden folgende Befehle benötigt:
\begin{lstlisting}[caption=Installation von Couchbase \cite{COUCHBASEINSTALL}]
wget http://packages.couchbase.com/releases/4.0.0-rc0/couchbase- server-community_4.0.0-rc0-ubuntu14.04_amd64.deb
dpkg -i couchbase-server-community_4.0.0-rc0-ubuntu14.04_amd64.deb
\end{lstlisting}

Bei der Konfiguration von Couchbase muss das CLI Programm in die Bashrc hinzugefügt werden:
\begin{lstlisting}[caption=Konfiguration von Couchbase]
if [ -d "/opt/couchbase/bin" ] ; then 
      export PATH="/opt/couchbase/bin:$PATH" 
fi
\end{lstlisting}

Nach der Installation und Konfiguration können weitere Operationen ausgeführt werden.\\
Ein neuer Datensatz kann folgendermaßen in die Datenbank eingefügt werden:\\
\textit{cbtransfer CSV\_FILE http://IP:PORT -B TARGET\_BUCKET  -u USERNAME -p PASSWORD}\\
Um die vorhandenen Datensätze wieder auszulesen, wird folgende Zeile benötigt:\\
\textit{cbtransfer http://IP:PORT csv:FILE -b SOURCE\_BUCKET  -u USERNAME -p PASSWORD}\\
Ein bestehender Datensatz kann mit folgender Zeile verändert werden:\\
\textit{cbtransfer FILE http://IP:PORT -B TARGET\_BUCKET  --destination-operation=add/set -u USERNAME -p PASSWORD}\\
Um einen vorhandenen Datensatz zu löschen kann folgender Befehl ausgeführt werden:\\
\textit{couchbase-cli bucket-delete -c IP:PORT  --bucket=NAME  -u USERNAME -p PASSWORD}

\subsubsection{Vergleich}
Anhand der zuvor genauer betrachteten Datenbanken und deren erstellter Prototypen kann nun eine Entscheidung darüber getroffen werden, welche der Datenbanken bei der Applikation zur Verwendung kommen soll.

Die beiden relationalen Datenbanken haben den großen Vorteil, dass sie für die grundlegenden Operationen eine standardisierte Sprache verwenden: SQL. Dadurch wird die Verwendung deutlich erleichtert. Allerdings ist bei der Applikation die Verwendung einer relationalen Datenbank nicht sehr sinnvoll, da sich die Daten vor allem innerhalb der Hefte sehr unterscheiden können und keine eindeutige Struktur dafür festgelegt werden kann. Bei relationalen Datenbanken muss so eine fixe Struktur allerdings existieren. NoSQL Datenbanken hingegen haben den großen Vorteil, dass sie unterschiedliche Strukturen unterstützen und nicht von Anfang an festgelegt werden muss, wie die Daten genau aufgebaut sind. Daher ist die Verwendung einer NoSQL Datenbank bei der Applikation sinnvoller.

Nun bleibt noch die Entscheidung, welche der beiden NoSQL Datenbanken verwendet werden soll. Der große Vorteil von Couchbase ist die hohe Skalierbarkeit und gute Performance. Allerdings ist die Verwendung von MongoDB deutlich einfacher. Zudem existiert für MongoDB eine wesentlich größere Community und bessere Tutorials, die während der Entwicklung sehr hilfreich sein und viel Arbeit und vor allem Zeit ersparen können. Aus diesem Grund wurde MongoDB als besser geeignet für das Projekt angesehen und wird demnach für die Persistierung der Daten für die Applikation eingesetzt.